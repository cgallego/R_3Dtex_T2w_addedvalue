# predicted T2w SI
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
library(nodeHarvest)
kid = 57
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
# predicted T2w SI
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
library(nodeHarvest)
kid = 51
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
# predicted T2w SI
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
library(nodeHarvest)
kid = 46
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
library(nodeHarvest)
kid = 45
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
# predicted T2w SI
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
kid = 45
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
# predicted T2w SI
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
kid=26
kid = 45
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
# predicted T2w SI
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
kid=26
perfcv_all$pred == perfcv_imgT1$pred
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
kid = 57
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
perfcv_all$pred == perfcv_imgT1$pred
kid = 41
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
k=9
loppath = "C:/Users/windows/Documents/repoCode-local/T2wR/lop_3Dtex_T2w_addedvalue"
setwd(loppath)
load(paste0("Outputs/weigNH_addeddiagvalue_3Dtexbagg_cv",k,".RData"))
source("functions.R")
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_nodeHarvest.r')
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_plotNH.R', encoding = 'UTF-8')
T1T2testinfo[,c(1,3,6,8,12,21:26)])
T1T2testinfo[,c(1,3,6,8,12,21:26)]
View(T1T2testinfo)
perfcv_all$pred == perfcv_imgT1$pred
T1T2testinfo[22,c(1,3,6,8,12,21:26)]
kid = 22
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
library(nodeHarvest)
kid = 26
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
kid = 36
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
kid = 43
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
print(T1T2test$T2wSI_predicted[kid])
print(T2test[kid,])
fdict = feature_dictionary(allfeatures)
plotNH(allfeatures, fdict$fnnames, treedata_all$forest,
XTEST=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
highlight=1, labels="", cexfaclab=1)
predict(treedata_all$forest,
newdata=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
explain=1, maxshow = length(treedata_all$forest$nodes))
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_plotNH.R', encoding = 'UTF-8')
fdict = feature_dictionary(allfeatures)
plotNH(allfeatures, fdict$fnnames, treedata_all$forest,
XTEST=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
highlight=1, labels="", cexfaclab=1)
predict(treedata_all$forest,
newdata=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
explain=1, maxshow = length(treedata_all$forest$nodes))
plotNH(imgT1features, fdict$fnnames, treedata_imgT1$forest,
XTEST=T1test[kid,c(names(imgT1features[2:ncol(imgT1features)]))],
highlight=1, labels="", cexfaclab=1)
predict(treedata_imgT1$forest,
newdata=T1test[kid,c(names(imgT1features[2:ncol(imgT1features)]))],
explain=1, maxshow = length(treedata_imgT1$forest$nodes))
# predict with only T1
fdict = feature_dictionary(imgT1features)
plotNH(imgT1features, fdict$fnnames, treedata_imgT1$forest,
XTEST=T1test[kid,c(names(imgT1features[2:ncol(imgT1features)]))],
highlight=1, labels="", cexfaclab=1)
perfcv_all$pred == perfcv_imgT1$pred
library(nodeHarvest)
kid = 46
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
library(nodeHarvest)
kid = 56
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
print(T2test[kid,])
print(T1T2test$T2wSI_predicted[kid])
kid = 4
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid = 63
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid = 66
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
perfcv_all$pred == perfcv_imgT1$pred
kid = 9
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid = 17
print(perfcv_imgT1[(kid-1):(kid+1),])
prin
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
kid = 22
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid =
)
k=1
loppath = "C:/Users/windows/Documents/repoCode-local/T2wR/lop_3Dtex_T2w_addedvalue"
setwd(loppath)
load(paste0("Outputs/weigNH_addeddiagvalue_3Dtexbagg_cv",k,".RData"))
source("functions.R")
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_nodeHarvest.r')
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_plotNH.R', encoding = 'UTF-8')
print(treedata_all$forest$varnames)
perfcv_all$pred == perfcv_imgT1$pred
kid = 2
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid = 21
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid = 9
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid = 12
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid = 14
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid = 29
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid =37
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid =57
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid =55
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
prin
kid =55
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid =52
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
kid =60
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
# predicted T2w SI
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
fdict = feature_dictionary(allfeatures)
plotNH(allfeatures, fdict$fnnames, treedata_all$forest,
XTEST=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
highlight=1, labels="", cexfaclab=1)
predict(treedata_all$forest,
newdata=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
explain=1, maxshow = length(treedata_all$forest$nodes))
plotNH(imgT1features, fdict$fnnames, treedata_imgT1$forest,
XTEST=T1test[kid,c(names(imgT1features[2:ncol(imgT1features)]))],
highlight=1, labels="", cexfaclab=1)
predict(treedata_imgT1$forest,
newdata=T1test[kid,c(names(imgT1features[2:ncol(imgT1features)]))],
explain=1, maxshow = length(treedata_imgT1$forest$nodes))
# predict with all
fdict = feature_dictionary(allfeatures)
plotNH(allfeatures, fdict$fnnames, treedata_all$forest,
XTEST=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
highlight=1, labels="", cexfaclab=1)
predict(treedata_all$forest,
newdata=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
explain=1, maxshow = length(treedata_all$forest$nodes))
k=2
loppath = "C:/Users/windows/Documents/repoCode-local/T2wR/lop_3Dtex_T2w_addedvalue"
setwd(loppath)
load(paste0("Outputs/weigNH_addeddiagvalue_3Dtexbagg_cv",k,".RData"))
source("functions.R")
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_nodeHarvest.r')
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_plotNH.R', encoding = 'UTF-8')
print(treedata_all$forest$varnames)
perfcv_all$pred == perfcv_imgT1$pred
kid = 2
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid = 6
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid = 9
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid = 18
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
kid = 56
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
kid
perfcv_all$pred == perfcv_imgT1$pred
k
kid =62
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
perfcv_all$pred != perfcv_imgT1$pred && perfcv_imgT1$obs=="NC"
perfcv_all$pred != perfcv_imgT1$pred & perfcv_imgT1$obs=="NC"
perfcv_all$pred != perfcv_imgT1$pred & perfcv_imgT1$obs=="NC" & perfcv_all$pred=="NC"
kid =47
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
fdict = feature_dictionary(allfeatures)
plotNH(allfeatures, fdict$fnnames, treedata_all$forest,
XTEST=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
highlight=1, labels="", cexfaclab=1)
predict(treedata_all$forest,
newdata=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
explain=1, maxshow = length(treedata_all$forest$nodes))
k=8
loppath = "C:/Users/windows/Documents/repoCode-local/T2wR/lop_3Dtex_T2w_addedvalue"
setwd(loppath)
load(paste0("Outputs/weigNH_addeddiagvalue_3Dtexbagg_cv",k,".RData"))
source("functions.R")
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_nodeHarvest.r')
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_plotNH.R', encoding = 'UTF-8')
print(treedata_all$forest$varnames)
print(perfcv_all$pred != perfcv_imgT1$pred & perfcv_imgT1$obs=="NC" & perfcv_all$pred=="NC")
kid =70
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
k=9
loppath = "C:/Users/windows/Documents/repoCode-local/T2wR/lop_3Dtex_T2w_addedvalue"
setwd(loppath)
load(paste0("Outputs/weigNH_addeddiagvalue_3Dtexbagg_cv",k,".RData"))
source("functions.R")
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_nodeHarvest.r')
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_plotNH.R', encoding = 'UTF-8')
print(treedata_all$forest$varnames)
print(perfcv_all$pred != perfcv_imgT1$pred & perfcv_all$obs=="NC" & perfcv_all$pred=="NC")
kid =26
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
# predicted T2w SI
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
kid =43
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
k=5
loppath = "C:/Users/windows/Documents/repoCode-local/T2wR/lop_3Dtex_T2w_addedvalue"
setwd(loppath)
load(paste0("Outputs/weigNH_addeddiagvalue_3Dtexbagg_cv",k,".RData"))
source("functions.R")
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_nodeHarvest.r')
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_plotNH.R', encoding = 'UTF-8')
print(treedata_all$forest$varnames)
print(perfcv_all$pred != perfcv_imgT1$pred & perfcv_all$obs=="NC" & perfcv_all$pred=="NC")
kid =1
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
# predicted T2w SI
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
print(perfcv_all$pred != perfcv_imgT1$pred & perfcv_all$obs=="NC" & perfcv_all$pred=="NC" & T1T2testinfo$lesion_label[kid]=="nonmassB")
T1T2testinfo$lesion_label[kid]
k=6
loppath = "C:/Users/windows/Documents/repoCode-local/T2wR/lop_3Dtex_T2w_addedvalue"
setwd(loppath)
load(paste0("Outputs/weigNH_addeddiagvalue_3Dtexbagg_cv",k,".RData"))
source("functions.R")
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_nodeHarvest.r')
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_plotNH.R', encoding = 'UTF-8')
print(treedata_all$forest$varnames)
print(perfcv_all$pred != perfcv_imgT1$pred & perfcv_all$obs=="NC" & perfcv_all$pred=="NC" & T1T2testinfo$lesion_label[kid]=="nonmassB")
library(nodeHarvest)
kid =41
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
#
k=4
loppath = "C:/Users/windows/Documents/repoCode-local/T2wR/lop_3Dtex_T2w_addedvalue"
setwd(loppath)
load(paste0("Outputs/weigNH_addeddiagvalue_3Dtexbagg_cv",k,".RData"))
source("functions.R")
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_nodeHarvest.r')
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_plotNH.R', encoding = 'UTF-8')
print(treedata_all$forest$varnames)
print(perfcv_all$pred != perfcv_imgT1$pred & perfcv_all$obs=="NC" & perfcv_all$pred=="NC" & T1T2testinfo$lesion_label[kid]=="nonmassB")
## post training... to find out about a NH prediction in the test set
library(nodeHarvest)
kid =41
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(treedata_all$forest$varnames)
print(perfcv_all$pred != perfcv_imgT1$pred & perfcv_all$obs=="NC" & perfcv_all$pred=="NC" & T1T2testinfo$lesion_label=="nonmassB")
T1T2testinfo$lesion_label
print(perfcv_all$pred != perfcv_imgT1$pred & perfcv_all$obs=="NC" & perfcv_all$pred=="NC")
k=3
loppath = "C:/Users/windows/Documents/repoCode-local/T2wR/lop_3Dtex_T2w_addedvalue"
setwd(loppath)
load(paste0("Outputs/weigNH_addeddiagvalue_3Dtexbagg_cv",k,".RData"))
source("functions.R")
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_nodeHarvest.r')
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_plotNH.R', encoding = 'UTF-8')
print(treedata_all$forest$varnames)
print(perfcv_all$pred != perfcv_imgT1$pred & perfcv_all$obs=="NC" & perfcv_all$pred=="NC")
print(T1T2testinfo$lesion_label)
kid =38
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
kid =55
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
fdict = feature_dictionary(allfeatures)
plotNH(allfeatures, fdict$fnnames, treedata_all$forest,
XTEST=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
highlight=1, labels="", cexfaclab=1)
k=3
loppath = "C:/Users/windows/Documents/repoCode-local/T2wR/lop_3Dtex_T2w_addedvalue"
setwd(loppath)
load(paste0("Outputs/weigNH_addeddiagvalue_3Dtexbagg_cv",k,".RData"))
source("functions.R")
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_nodeHarvest.r')
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_plotNH.R', encoding = 'UTF-8')
print(treedata_all$forest$varnames)
print(perfcv_all$pred != perfcv_imgT1$pred & perfcv_all$obs=="NC" & perfcv_all$pred=="NC")
print(T1T2testinfo$lesion_label)
## post training... to find out about a NH prediction in the test set
library(nodeHarvest)
kid =55
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
# predicted T2w SI
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
# predict with all
fdict = feature_dictionary(allfeatures)
plotNH(allfeatures, fdict$fnnames, treedata_all$forest,
XTEST=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
highlight=1, labels="", cexfaclab=1)
predict(treedata_all$forest,
newdata=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
explain=1, maxshow = length(treedata_all$forest$nodes))
plotNH(imgT1features, fdict$fnnames, treedata_imgT1$forest,
XTEST=T1test[kid,c(names(imgT1features[2:ncol(imgT1features)]))],
highlight=1, labels="", cexfaclab=1)
predict(treedata_imgT1$forest,
newdata=T1test[kid,c(names(imgT1features[2:ncol(imgT1features)]))],
explain=1, maxshow = length(treedata_imgT1$forest$nodes))
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
# predicted T2w SI
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
k=3
loppath = "C:/Users/windows/Documents/repoCode-local/T2wR/lop_3Dtex_T2w_addedvalue"
setwd(loppath)
load(paste0("Outputs/weigNH_addeddiagvalue_3Dtexbagg_cv",k,".RData"))
source("functions.R")
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_nodeHarvest.r')
source('Z:/Cristina/MassNonmass/Section 2 - Experiments/Qfunc_T2w_NodeHarvest/source/source_plotNH.R', encoding = 'UTF-8')
print(treedata_all$forest$varnames)
print(perfcv_all$pred != perfcv_imgT1$pred & perfcv_all$obs=="NC" & perfcv_all$pred=="NC")
print(T1T2testinfo$lesion_label)
## post training... to find out about a NH prediction in the test set
library(nodeHarvest)
kid =55
print(perfcv_imgT1[(kid-1):(kid+1),])
print(perfcv_all[(kid-1):(kid+1),])
print(T1T2testinfo[kid,c(1,3,6,8,12,21:26)])
cat(T1T2testinfo[kid,19])
cat(T1T2testinfo[kid,20])
# predicted T2w SI
print(T1T2test$T2wSI_predicted[kid])
# assigned T2w SI
print(T2test[kid,])
# predict with only T1
fdict = feature_dictionary(imgT1features)
plotNH(imgT1features, fdict$fnnames, treedata_imgT1$forest,
XTEST=T1test[kid,c(names(imgT1features[2:ncol(imgT1features)]))],
highlight=1, labels="", cexfaclab=1)
predict(treedata_imgT1$forest,
newdata=T1test[kid,c(names(imgT1features[2:ncol(imgT1features)]))],
explain=1, maxshow = length(treedata_imgT1$forest$nodes))
predict(treedata_all$forest,
newdata=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
explain=1, maxshow = length(treedata_all$forest$nodes))
# predict with all
fdict = feature_dictionary(allfeatures)
plotNH(allfeatures, fdict$fnnames, treedata_all$forest,
XTEST=T1T2test[kid,c(names(allfeatures[2:ncol(allfeatures)]))],
highlight=1, labels="", cexfaclab=1)
